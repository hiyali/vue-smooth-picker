!function t(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.SmoothPicker=n():e.SmoothPicker=n()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var s=n[r]={exports:{},id:r,loaded:!1};return t[r].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var s,i,o,a;Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothPicker=e.version=e.default=void 0,s=n(1),i=r(s),o=function t(e){t.installed||e.component(i.default.name,i.default)},"undefined"!=typeof window&&window.Vue&&o(window.Vue),a="0.3.6",e.default=o,e.version=a,e.SmoothPicker=i.default},function(t,e,n){n(2);var r=n(4)(n(5),n(6),"data-v-43f1648a",null);t.exports=r.exports},function(t,e){},,function(t,e){t.exports=function t(e,n,r,s){var i,o,a,u=e=e||{},d=typeof e.default;return"object"!==d&&"function"!==d||(i=e,u=e.default),o="function"==typeof u?u.options:u,n&&(o.render=n.render,o.staticRenderFns=n.staticRenderFns),r&&(o._scopeId=r),s&&(a=o.computed||(o.computed={}),Object.keys(s).forEach(function(t){var e=s[t];a[t]=function(){return e}})),{esModule:i,exports:u,options:o}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"smooth-picker",props:{data:{type:Array,default:[]},change:{type:Function,default:function t(){}}},data:function t(){return{currentIndexList:this.getInitialCurrentIndexList(),lastCurrentIndexList:[],groupsRectList:Array(this.data.length),dragInfo:{isTouchable:"ontouchstart"in window,isMouseDown:!1,isDragging:!1,groupIndex:null,startPageY:null},supInfo:{getRectTimeoutId:null,lastStyleDisplay:null,watchDomObserver:null}}},mounted:function t(){this.eventsRegister(),this.$nextTick(this.getGroupsRectList()),this.supInfo.watchDomObserver=this.createDomObserver(),this.supInfo.watchDomObserver.observe(this.$el,{attributes:!0}),window.addEventListener("resize",this.safeGetGroupRectList)},destroyed:function t(){this.supInfo.watchDomObserver.disconnect(),window.removeEventListener("resize",this.safeGetGroupRectList)},methods:{setGroupData:function t(e,n){var r,s=n.currentIndex,i=0;"number"==typeof s&&s>=0&&n.list&&n.list.length&&s<=n.list.length-1&&(i=Math.round(s)),this.currentIndexList[e]=i,this.lastCurrentIndexList=[].concat(this.currentIndexList),r=n.flex,r&&this.data[e].flex!==r&&this.safeGetGroupRectList(),this.data[e]=n},getInitialCurrentIndexList:function t(){return this.data.map(function(t,e){var n=t.currentIndex;return"number"==typeof n&&n>=0&&t.list&&t.list.length&&n<=t.list.length-1?Math.round(n):0})},createDomObserver:function t(){var e=this;return new window.MutationObserver(function(t){t.forEach(function(t){if("attributes"===t.type){var n=e.$el.style.display;"none"!==n&&e.supInfo.lastStyleDisplay!==n&&(e.supInfo.lastStyleDisplay=n,e.$nextTick(e.getGroupsRectList()))}})})},safeGetGroupRectList:function t(){var e=this;this.supInfo.getRectTimeoutId&&clearTimeout(this.supInfo.getRectTimeoutId),this.supInfo.getRectTimeoutId=setTimeout(function(){e.getGroupsRectList()},200)},getGroupsRectList:function t(){var e=this;this.$refs.smoothGroup&&this.$refs.smoothGroup.forEach(function(t,n){e.groupsRectList[n]=t.getBoundingClientRect()})},eventsRegister:function t(){var e=this.$refs.smoothHandleLayer;e&&this.addEventsForElement(e)},addEventsForElement:function t(e){var n=this.dragInfo.isTouchable,r=[{name:n?"touchstart":"mousedown",handler:this.handleStart},{name:n?"touchmove":"mousemove",handler:this.handleMove},{name:n?"touchend":"mouseup",handler:this.handleEnd},{name:n?"touchcancel":"mouseleave",handler:this.handleCancel}];r.forEach(function(t,n){e.removeEventListener(t.name,t.handler,!1),e.addEventListener(t.name,t.handler,!1)})},triggerMiddleLayerGroupClick:function t(e){var n=this.data;"number"==typeof e&&"function"==typeof n[e].onClick&&n[e].onClick(e,this.currentIndexList[e])},triggerAboveLayerClick:function t(e,n){var r=this.currentIndexList[n]+1;this.$set(this.currentIndexList,n,r),this.correctionCurrentIndex(e,n)},triggerMiddleLayerClick:function t(e,n){this.triggerMiddleLayerGroupClick(n)},triggerBelowLayerClick:function t(e,n){var r=this.currentIndexList[n]-1;this.$set(this.currentIndexList,n,r),this.correctionCurrentIndex(e,n)},getTouchInfo:function t(e){return this.dragInfo.isTouchable?e.changedTouches[0]||e.touches[0]:e},getGroupIndexBelongsEvent:function t(e){var n,r,s=this.getTouchInfo(e);for(n=0;n<this.groupsRectList.length;n++)if(r=this.groupsRectList[n],r.left<s.pageX&&s.pageX<r.right)return n;return null},handleEventClick:function t(e){var n=this.getGroupIndexBelongsEvent(e);switch(e.target.dataset.type){case"top":this.triggerAboveLayerClick(e,n);break;case"middle":this.triggerMiddleLayerClick(e,n);break;case"bottom":this.triggerBelowLayerClick(e,n)}},handleStart:function t(e){e.cancelable&&(e.preventDefault(),e.stopPropagation());var n=this.getTouchInfo(e);this.dragInfo.startPageY=n.pageY,this.dragInfo.isTouchable||(this.dragInfo.isMouseDown=!0)},handleMove:function t(e){e.preventDefault(),e.stopPropagation(),(this.dragInfo.isTouchable||this.dragInfo.isMouseDown)&&(this.dragInfo.isDragging=!0,this.setCurrentIndexOnMove(e))},handleEnd:function t(e){e.preventDefault(),e.stopPropagation(),this.dragInfo.isDragging||this.handleEventClick(e),this.dragInfo.isDragging=!1,this.dragInfo.isMouseDown=!1,this.correctionAfterDragging(e)},handleCancel:function t(e){e.preventDefault(),e.stopPropagation(),(this.dragInfo.isTouchable||this.dragInfo.isMouseDown)&&(this.correctionAfterDragging(e),this.dragInfo.isMouseDown=!1,this.dragInfo.isDragging=!1)},setCurrentIndexOnMove:function t(e){var n,r,s,i=this.getTouchInfo(e);null===this.dragInfo.groupIndex&&(this.dragInfo.groupIndex=this.getGroupIndexBelongsEvent(e)),n=this.dragInfo.groupIndex,("number"!=typeof n||!this.data[n].divider&&this.data[n].list)&&(r=(this.dragInfo.startPageY-i.pageY)/32,s=this.currentIndexList[n]+r,this.$set(this.currentIndexList,n,s),this.dragInfo.startPageY=i.pageY)},correctionAfterDragging:function t(e){var n=this.dragInfo.groupIndex;this.correctionCurrentIndex(e,n),this.dragInfo.groupIndex=null,this.dragInfo.startPageY=null},correctionCurrentIndex:function t(e,n){var r=this;setTimeout(function(){var t,e;"number"==typeof n&&r.data[n].divider!==!0&&r.data[n].list.length>0&&(t=r.currentIndexList[n],e=t,t>r.data[n].list.length-1?e=r.data[n].list.length-1:t<0&&(e=0),e=Math.round(e),r.$set(r.currentIndexList,n,e),e!==r.lastCurrentIndexList[n]&&r.change(n,e),r.lastCurrentIndexList=[].concat(r.currentIndexList))},100)},isCurrentItem:function t(e,n){return this.currentIndexList[e]===n},getCurrentIndexList:function t(){return this.currentIndexList},getGroupClass:function t(e){var n=this.data[e],r="flex-"+(n.flex||1),s=[r];return n.className&&s.push(n.className),s},getItemClass:function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=[],i=this.data[e];return i.textAlign&&s.push("text-"+i.textAlign),!r&&this.isCurrentItem(e,n)&&s.push("smooth-item-selected"),s},getItemStyle:function t(e,n){var r,s=this.currentIndexList[e]-n;return Math.abs(s)<4?(r="transform: rotateX("+23*s+"deg) translate3d(0, 0, 5.625rem);",this.dragInfo.isDragging||(r+=" transition: transform 150ms ease-out;"),r):s>0?"transform: rotateX(100deg) translate3d(0, 0, 5.625rem)":"transform: rotateX(-100deg) translate3d(0, 0, 5.625rem)"}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"smooth-picker flex-box"},[t._l(t.data,function(e,r){return n("div",{key:r,ref:"smoothGroup",refInFor:!0,staticClass:"smooth-group",class:t.getGroupClass(r)},[n("div",{staticClass:"smooth-list"},[e.divider?n("div",{staticClass:"smooth-item divider",class:t.getItemClass(r,t.iIndex,!0)},[t._v(t._s(e.text))]):t._l(e.list,function(e,s){return n("div",{key:s,staticClass:"smooth-item",class:t.getItemClass(r,s),style:t.getItemStyle(r,s)},[t._v("\n        "+t._s(e.value||e)+"\n      ")])})],2)])}),t._v(" "),n("div",{ref:"smoothHandleLayer",staticClass:"smooth-handle-layer flex-box direction-column"},[n("div",{staticClass:"smooth-top flex-1",attrs:{"data-type":"top"}}),t._v(" "),n("div",{staticClass:"smooth-middle",attrs:{"data-type":"middle"}}),t._v(" "),n("div",{staticClass:"smooth-bottom flex-1",attrs:{"data-type":"bottom"}})])],2)},staticRenderFns:[]}}])});